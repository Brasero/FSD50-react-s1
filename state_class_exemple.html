<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- babel => compilation du JSX -->
    <script src="https://unpkg.com/babel-standalone@latest/babel.min.js"></script>
    <title>Class State</title>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">

        class TestState extends React.Component {

            constructor(props) {
                super(props);

                //Solution 1 pour éviter la perte du scope de this
                //on bind la valeur de this a la fonction, autrement dit on lie la valeur de this
                // this.click = this.click.bind(this)
            }

            //Solution 2 pour eviter la perte du scope de this
            //on passe une fonction fléchée au lieu d'une fonction nommée
            //une fonction fléchée n'ayant pas de contexte this qui lui est propre le scope n'est pas perdu
            click = () => {
                console.log(this)
            }

            render() {

                return (
                    <div onClick={this.click}>
                        Counter :
                    </div>
                )
            }

        }

        ReactDOM.createRoot(document.querySelector("#root")).render(<TestState />)

    </script>

</body>
</html>